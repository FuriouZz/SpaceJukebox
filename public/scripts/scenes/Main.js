var __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

SPACE.MainScene = (function(_super) {
  __extends(MainScene, _super);

  MainScene.prototype.playlist = null;

  MainScene.prototype.current = null;

  function MainScene(bg) {
    this._whileplaying = __bind(this._whileplaying, this);
    this._onfinish = __bind(this._onfinish, this);
    this._onplay = __bind(this._onplay, this);
    this._starting = __bind(this._starting, this);
    var link, middlePoint;
    MainScene.__super__.constructor.call(this, bg);
    middlePoint = new PIXI.Point(window.innerWidth, window.innerHeight);
    this.eq = new SPACE.Equalizer(middlePoint, {
      minLength: 0,
      maxLength: 200
    });
    this.addChild(this.eq);
    this.sc = new SPACE.SoundCloud(SPACE.SOUNDCLOUD.id);
    this.playlist = [];
    link = 'https://soundcloud.com/huhwhatandwhere/sets/supreme-laziness-the-celestics';
    this.sc.getSoundOrPlaylist(link, (function(_this) {
      return function(o) {
        var data, spaceship, track, _i, _len, _ref, _results;
        _ref = o.tracks;
        _results = [];
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          data = _ref[_i];
          spaceship = new SPACE.Spaceship(middlePoint, _this.eq.radius);
          _this.addChild(spaceship);
          track = new SPACE.Track(data, spaceship);
          _results.push(_this.playlist.push(track));
        }
        return _results;
      };
    })(this));
  }

  MainScene.prototype.draw = function() {
    return this.eq.draw();
  };

  MainScene.prototype.update = function(delta) {
    this.eq.update(delta);
    if (this.playlist.length > 0 && this.current === null) {
      this.current = this.playlist[0];
      return this.playSound(this.current);
    }
  };

  MainScene.prototype.playSound = function(track) {
    return this.sc.streamSound(this.current.data, this._starting, {
      onplay: this._onplay,
      onfinish: this._onfinish,
      onstop: this._onstop,
      whileplaying: this._whileplaying
    });
  };

  MainScene.prototype.play = function() {
    if (this.current && this.current.hasOwnProperty('sound')) {
      return this.current.sound.play();
    }
  };

  MainScene.prototype.resume = function() {
    if (this.current && this.current.hasOwnProperty('sound')) {
      return this.current.sound.resume();
    }
  };

  MainScene.prototype.pause = function() {
    if (this.current && this.current.hasOwnProperty('sound')) {
      this.current.sound.pause();
      return this.eq.mute();
    }
  };

  MainScene.prototype.stop = function() {
    if (this.current && this.current.hasOwnProperty('sound')) {
      this.current.sound.stop();
      return this.eq.mute();
    }
  };

  MainScene.prototype.next = function() {
    return this._onfinish();
  };

  MainScene.prototype._starting = function(sound) {
    return this.current.sound = sound;
  };

  MainScene.prototype._onplay = function() {
    return console.log('onplay');
  };

  MainScene.prototype._onfinish = function() {
    this.current.sound.stop();
    this.current = null;
    this.playlist.shift();
    return this.eq.mute();
  };

  MainScene.prototype._whileplaying = function() {
    var datas, i, _i;
    datas = Array(256);
    for (i = _i = 0; _i <= 127; i = ++_i) {
      datas[i] = Math.max(this.current.sound.waveformData.left[i], this.current.sound.waveformData.right[i]);
      datas[255 - i] = Math.max(this.current.sound.waveformData.left[i], this.current.sound.waveformData.right[i]);
    }
    if (this.current.sound.paused) {
      return this.eq.mute();
    } else {
      return this.eq.setNewValues(datas);
    }
  };

  return MainScene;

})(SPACE.Scene);

//# sourceMappingURL=data:application/json;base64,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QUEsR0FBQSxHQUFJLENBQUosQ0FBTixHQUFlLElBQUksQ0FBQyxHQUFMLENBQVMsSUFBQyxDQUFBLE9BQU8sQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLElBQUssQ0FBQSxDQUFBLENBQTFDLEVBQThDLElBQUMsQ0FBQSxPQUFPLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxLQUFNLENBQUEsQ0FBQSxDQUFoRixDQURmLENBREY7QUFBQSxLQURBO0FBS0EsSUFBQSxJQUFHLElBQUMsQ0FBQSxPQUFPLENBQUMsS0FBSyxDQUFDLE1BQWxCO2FBQ0UsSUFBQyxDQUFBLEVBQUUsQ0FBQyxJQUFKLENBQUEsRUFERjtLQUFBLE1BQUE7YUFHRSxJQUFDLENBQUEsRUFBRSxDQUFDLFlBQUosQ0FBaUIsS0FBakIsRUFIRjtLQU5hO0VBQUEsQ0FuR2YsQ0FBQTs7bUJBQUE7O0dBRjRCLEtBQUssQ0FBQyxNQUFwQyxDQUFBIiwiZmlsZSI6InNjZW5lcy9tYWluLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIiwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgU1BBQ0UuTWFpblNjZW5lIGV4dGVuZHMgU1BBQ0UuU2NlbmVcblxuICBwbGF5bGlzdDogbnVsbFxuICBjdXJyZW50OiBudWxsXG5cbiAgY29uc3RydWN0b3I6IChiZyktPlxuICAgIHN1cGVyKGJnKVxuXG4gICAgbWlkZGxlUG9pbnQgPSBuZXcgUElYSS5Qb2ludCh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KVxuXG4gICAgQGVxID0gbmV3IFNQQUNFLkVxdWFsaXplcihtaWRkbGVQb2ludCwge21pbkxlbmd0aDogMCwgbWF4TGVuZ3RoOiAyMDB9KVxuICAgIEBhZGRDaGlsZChAZXEpXG5cbiAgICBAc2MgPSBuZXcgU1BBQ0UuU291bmRDbG91ZChTUEFDRS5TT1VORENMT1VELmlkKVxuICAgICMgQHNvdW5kID0gbnVsbFxuXG4gICAgQHBsYXlsaXN0ID0gW11cblxuICAgICMgQHNwYWNlc2hpcCA9IG5ldyBTUEFDRS5TcGFjZXNoaXAobWlkZGxlUG9pbnQsIEBlcS5yYWRpdXMpXG4gICAgIyBAYWRkQ2hpbGQoQHNwYWNlc2hpcClcblxuICAgIGxpbmsgPSAnaHR0cHM6Ly9zb3VuZGNsb3VkLmNvbS9odWh3aGF0YW5kd2hlcmUvc2V0cy9zdXByZW1lLWxhemluZXNzLXRoZS1jZWxlc3RpY3MnXG4gICAgQHNjLmdldFNvdW5kT3JQbGF5bGlzdChsaW5rLCAobyk9PlxuICAgICAgZm9yIGRhdGEgaW4gby50cmFja3NcbiAgICAgICAgIyBDcmVhdGUgU3BhY2VzaGlwXG4gICAgICAgIHNwYWNlc2hpcCA9IG5ldyBTUEFDRS5TcGFjZXNoaXAobWlkZGxlUG9pbnQsIEBlcS5yYWRpdXMpXG4gICAgICAgIEBhZGRDaGlsZChzcGFjZXNoaXApXG5cbiAgICAgICAgdHJhY2sgPSBuZXcgU1BBQ0UuVHJhY2soZGF0YSwgc3BhY2VzaGlwKVxuICAgICAgICBAcGxheWxpc3QucHVzaCh0cmFjaylcbiAgICApXG5cbiAgICAjICMgQ2hpcmFjIDogJzE3OTAxMzY3MydcbiAgICAjICMgMjBzeWwgOiAnMTU3MTcwMjg0J1xuICAgICMgQHNjLmdldFNvdW5kT3JQbGF5bGlzdCgnL3RyYWNrcy8xNzkwMTM2NzMnLCAobyk9PlxuICAgICMgICBAc2Muc3RyZWFtU291bmQobywgKHNvdW5kKT0+XG4gICAgIyAgICAgQHNvdW5kID0gc291bmRcbiAgICAjICAgLCA9PlxuICAgICMgICAgIGRhdGFzID0gQXJyYXkoMjU2KVxuICAgICMgICAgIGZvciBpIGluIFswLi4xMjddXG4gICAgIyAgICAgICBkYXRhc1tpXSAgICAgPSBNYXRoLm1heChAc291bmQud2F2ZWZvcm1EYXRhLmxlZnRbaV0sIEBzb3VuZC53YXZlZm9ybURhdGEucmlnaHRbaV0pXG4gICAgIyAgICAgICBkYXRhc1syNTUtaV0gPSBNYXRoLm1heChAc291bmQud2F2ZWZvcm1EYXRhLmxlZnRbaV0sIEBzb3VuZC53YXZlZm9ybURhdGEucmlnaHRbaV0pXG5cbiAgICAjICAgICBAZXEuc2V0TmV3VmFsdWVzKGRhdGFzKVxuICAgICMgICApXG4gICAgIyApXG5cbiAgZHJhdzogLT5cbiAgICBAZXEuZHJhdygpXG4gICAgIyBAc3BhY2VzaGlwLmRyYXcoKVxuXG4gIHVwZGF0ZTogKGRlbHRhKS0+XG4gICAgQGVxLnVwZGF0ZShkZWx0YSlcbiAgICAjIEBzcGFjZXNoaXAudXBkYXRlKGRlbHRhKVxuXG4gICAgaWYgQHBsYXlsaXN0Lmxlbmd0aCA+IDAgYW5kIEBjdXJyZW50ID09IG51bGxcbiAgICAgIEBjdXJyZW50ID0gQHBsYXlsaXN0WzBdXG4gICAgICBAcGxheVNvdW5kKEBjdXJyZW50KVxuICAgICAgIyBAY3VycmVudC5wbGF5KClcblxuICBwbGF5U291bmQ6ICh0cmFjayktPlxuICAgIEBzYy5zdHJlYW1Tb3VuZChAY3VycmVudC5kYXRhLCBAX3N0YXJ0aW5nLCB7XG4gICAgICBvbnBsYXkgICAgICAgOiBAX29ucGxheVxuICAgICAgb25maW5pc2ggICAgIDogQF9vbmZpbmlzaFxuICAgICAgb25zdG9wICAgICAgIDogQF9vbnN0b3BcbiAgICAgIHdoaWxlcGxheWluZyA6IEBfd2hpbGVwbGF5aW5nXG4gICAgfSlcblxuICBwbGF5OiAtPlxuICAgIGlmIEBjdXJyZW50IGFuZCBAY3VycmVudC5oYXNPd25Qcm9wZXJ0eSgnc291bmQnKVxuICAgICAgQGN1cnJlbnQuc291bmQucGxheSgpXG5cbiAgcmVzdW1lOiAtPlxuICAgIGlmIEBjdXJyZW50IGFuZCBAY3VycmVudC5oYXNPd25Qcm9wZXJ0eSgnc291bmQnKVxuICAgICAgQGN1cnJlbnQuc291bmQucmVzdW1lKClcblxuICBwYXVzZTogLT5cbiAgICBpZiBAY3VycmVudCBhbmQgQGN1cnJlbnQuaGFzT3duUHJvcGVydHkoJ3NvdW5kJylcbiAgICAgIEBjdXJyZW50LnNvdW5kLnBhdXNlKClcbiAgICAgIEBlcS5tdXRlKClcblxuICBzdG9wOiAtPlxuICAgIGlmIEBjdXJyZW50IGFuZCBAY3VycmVudC5oYXNPd25Qcm9wZXJ0eSgnc291bmQnKVxuICAgICAgQGN1cnJlbnQuc291bmQuc3RvcCgpXG4gICAgICBAZXEubXV0ZSgpXG5cbiAgbmV4dDogLT5cbiAgICBAX29uZmluaXNoKClcblxuICBfc3RhcnRpbmc6IChzb3VuZCk9PlxuICAgIEBjdXJyZW50LnNvdW5kID0gc291bmRcblxuICBfb25wbGF5OiA9PlxuICAgIGNvbnNvbGUubG9nICdvbnBsYXknXG5cbiAgX29uZmluaXNoOiA9PlxuICAgIEBjdXJyZW50LnNvdW5kLnN0b3AoKVxuICAgIEBjdXJyZW50ID0gbnVsbFxuICAgIEBwbGF5bGlzdC5zaGlmdCgpXG4gICAgQGVxLm11dGUoKVxuXG4gIF93aGlsZXBsYXlpbmc6ID0+XG4gICAgZGF0YXMgPSBBcnJheSgyNTYpXG4gICAgZm9yIGkgaW4gWzAuLjEyN11cbiAgICAgIGRhdGFzW2ldICAgICA9IE1hdGgubWF4KEBjdXJyZW50LnNvdW5kLndhdmVmb3JtRGF0YS5sZWZ0W2ldLCBAY3VycmVudC5zb3VuZC53YXZlZm9ybURhdGEucmlnaHRbaV0pXG4gICAgICBkYXRhc1syNTUtaV0gPSBNYXRoLm1heChAY3VycmVudC5zb3VuZC53YXZlZm9ybURhdGEubGVmdFtpXSwgQGN1cnJlbnQuc291bmQud2F2ZWZvcm1EYXRhLnJpZ2h0W2ldKVxuXG4gICAgaWYgQGN1cnJlbnQuc291bmQucGF1c2VkXG4gICAgICBAZXEubXV0ZSgpXG4gICAgZWxzZVxuICAgICAgQGVxLnNldE5ld1ZhbHVlcyhkYXRhcylcblxuIl19